cc = cc
cflags = -Wall -std=c89 -pedantic

rule cc
  command = $cc $cflags -c -o $out $in
rule link
  command = $cc -o $out $in

build lex.o: cc lex.c
build cpp.o: cc cpp.c
build cc.o: cc cc.c
build ir.o: cc ir.c
build main.o: cc main.c
build cc: link lex.o cpp.o cc.o ir.o main.o

default cc
